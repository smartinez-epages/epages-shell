#======================================================================================================================
# Quiet
#======================================================================================================================
package Shell::BasicCommand::Quiet;
use base Shell::Command::Command;

use strict;

#======================================================================================================================
# §function     getName
# §state        public
#----------------------------------------------------------------------------------------------------------------------
# §syntax       $CommandName = $Command->getName() ;
#----------------------------------------------------------------------------------------------------------------------
# §description  Returns the name of the command
#----------------------------------------------------------------------------------------------------------------------
# §return       $Name | the command name | string
#======================================================================================================================
sub getName {
    my $self = shift;

    return 'quiet' ;
}

#======================================================================================================================
# §function     getDescription
# §state        public
#----------------------------------------------------------------------------------------------------------------------
# §syntax       $aDescription = $Command->getDescription() ;
#----------------------------------------------------------------------------------------------------------------------
# §description  Returns a list of text lines with the short description for the command.
#----------------------------------------------------------------------------------------------------------------------
# §return       $aDescription | Description for the command | array.ref
#======================================================================================================================
sub getDescription {
    my $self = shift;

    return [ 'Enable/Disable the commands output' ] ;
}

#======================================================================================================================
# §function     execute
# §state        public
#----------------------------------------------------------------------------------------------------------------------
# §syntax       $Command->execute( $CommandArgs ) 
#----------------------------------------------------------------------------------------------------------------------
# §description  Executes the command with the specified arguments
#----------------------------------------------------------------------------------------------------------------------
# §input        $CommandArgs | Arguments provided for the command execution | string
#======================================================================================================================
sub execute {
    my $self = shift;

    my ( $CommandArgs ) = @_ ;

    my $Console = $self->{'Shell'}->getConsole() ;
    
    $Console->debug( "Execute command QUIET\n" ) ;

    my $hArguments = $self->_parseArguments( $CommandArgs ) ;

    my $Quiet = lc ( $hArguments->{'@'}->[0] ) ;

    my $Verbosity = $Console->getVerbosity() ;
    
    if ( $Quiet eq 'on' )  {
        $Verbosity = 0 ;
    } elsif ( $Quiet eq 'off' )  {
        $Verbosity = 1 ;
    } 
    
    $Console->output( "Quite mode is %s\n", ( ( $Verbosity )? 'OFF' : 'ON' ) ) ;

    $Console->setVerbosity( $Verbosity ) ;
    
    return;
}

1;
